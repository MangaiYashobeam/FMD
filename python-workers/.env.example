# ============================================================================
# Python Workers - Environment Configuration
# ============================================================================
# Copy this to .env and fill in your values
# SECURITY: Never commit .env files to version control!

# ============================================================================
# REQUIRED - Security Settings
# ============================================================================

# Shared secret for worker authentication with Node.js backend
# MUST be at least 32 characters for HMAC security
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
WORKER_SECRET=CHANGE_THIS_must_be_at_least_32_characters_long

# Session encryption key (used for encrypting Facebook sessions at rest)
# MUST be at least 32 characters
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
ENCRYPTION_KEY=CHANGE_THIS_also_must_be_at_least_32_characters

# API Key for authenticating external requests (X-API-Key header)
# Should match the key used in your Node.js backend
API_KEY=CHANGE_THIS_api_key_for_external_requests

# ============================================================================
# REQUIRED - Service Connections
# ============================================================================

# Redis Connection (for task queue communication)
REDIS_URL=redis://localhost:6379

# Main Backend URL (your Node.js/Express API)
API_BASE_URL=http://localhost:3000

# ============================================================================
# Security Configuration
# ============================================================================

# Security level: strict, standard, relaxed
# - strict: Maximum security, may impact performance
# - standard: Balanced security and performance (recommended)
# - relaxed: Development/testing only (NOT for production)
SECURITY_LEVEL=standard

# CORS allowed origins (comma-separated)
# Leave empty for localhost-only in production
# Example: https://your-frontend.com,https://api.your-domain.com
CORS_ORIGINS=

# IP allowlist for API access (comma-separated)
# Leave empty to allow private networks (localhost, 10.x, 192.168.x, etc.)
# In production, specify your Node.js backend IP
# Example: 10.0.0.5,192.168.1.100
ALLOWED_IPS=

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ============================================================================
# Browser Settings
# ============================================================================

# Run browser in headless mode (true for production)
HEADLESS=true

# Maximum concurrent browser instances
MAX_CONCURRENT_BROWSERS=5

# Browser memory limit in MB
BROWSER_MEMORY_LIMIT_MB=512

# Browser operation timeout in seconds
BROWSER_TIMEOUT_SECONDS=120

# Browser idle timeout in seconds (close unused browsers)
BROWSER_IDLE_TIMEOUT=600

# ============================================================================
# Worker Settings
# ============================================================================

# Unique worker identifier (useful for multi-worker deployments)
WORKER_ID=worker-1

# Task queue settings
TASK_POLL_INTERVAL=5
SESSION_CHECK_INTERVAL=300

# ============================================================================
# Feature Flags
# ============================================================================

# Enable anti-detection measures (recommended)
ENABLE_ANTI_DETECT=true

# Enable session rotation
ENABLE_SESSION_ROTATION=true

# Enable security audit logging
ENABLE_SECURITY_AUDIT=true

# ============================================================================
# Paths
# ============================================================================

# Directory for encrypted session storage
SESSIONS_DIR=/app/sessions

# ============================================================================
# Development Settings
# ============================================================================

# Debug mode (NEVER enable in production)
DEBUG=false

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
